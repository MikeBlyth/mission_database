- @member = @record
= fields_for :record do |member|
  %table.new_family
    %tr
      %td
        = member.label :last_name, "", :class=>'required'
        %br
        = member.text_field :last_name, :class=> "last_name-input"
      %td
        = member.label :first_name, "", :class=>'required'
        %br
        = member.text_field :first_name, :class=> "first_name-input"
      %td
        = member.label :middle_name
        %br
        = member.text_field :middle_name, :class=> "middle_name-input"
      %td
        = member.label :short_name
        %br
        = member.text_field :short_name, :class=> "short_name-input"
    %tr
      %td
        = member.label :name, "Full name of individual", :class=>'required'
        %br
        = member.text_field :name, :class=> "name-input"
        %br
        %p.description Must be unique
      %td
        .country
          = member.label :country
          %br
          - choices = options_from_collection_for_select(Country.where('include_in_selection').select('id, name').order('name'), :id, :name, @member[:country_id])
          = member.select(:country, choices, {:include_blank => true }, :class=>'wide-input')    
    %tr
      %td
        = member.label :phone_1
        %br
        = member.text_field :phone_1, :class=>'phone-input'
      %td
        = member.label :phone_2
        %br
        = member.text_field :phone_2, :class=>'phone-input'
      %td
        = member.label :phone_private, 'Phone number is private?'
        %br
        = member.check_box :phone_private
    %tr
      %td
        = member.label :email_1
        %br
        = member.text_field :email_1
      %td
        = member.label :email_2
        %br
        = member.text_field :email_2
      %td
        = member.label :email_private, 'Email is private?'
        %br
        = member.check_box :email_private
    %tr{:style=>"borders-bottom: 1px solid black; background: #AFA"}
      %td <h5>Emergency Contact Information </h5>
    %tr
      %td
        = member.label :emergency_contact_name        
        %br
        = member.text_field :emergency_contact_name, :class=>'name-input'
      %td
        = member.label :emergency_contact_phone        
        %br
        = member.text_field :emergency_contact_phone, :class=>'phone-input'
      %td
        = member.label :emergency_contact_email        
        %br
        = member.text_field :emergency_contact_email, :class=>'email-input'
      %tr
        %td <h5>Location</h5>
      %tr
        %td
          = member.label :location, "Location"
          %br
          = member.select(:location, location_choices(@member[:location_id]), {:include_blank => true })    
      %tr
        %td
          = member.label :group, "Groups"
          %br
          -#= member.select :group_ids, Group.order('group_name').collect {|x| [x.group_name, x.id]}, {}, :multiple => true, :size=>10         
          = member.select :groups, group_choices(@member), {:include_blank => '(none)' },  :multiple => true, :size=>10, :class=>'multiselect'  

